{"icon":"ðŸ˜…","name":"XonteX","properties":{},"display_properties":{},"versions":[{"id":4344,"version_number":4,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"}]},"created_at":"2022-04-07T13:05:26.332002+00:00","description":"still contain errors\n","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onSubmit","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n    let result\n    if (element.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n        result = element.match(/src\\s*=\\s*\"(.+?)\"/i)\n    } else {\n        result = element.match(/([^<]*)/i)\n    }\n    const resp = await helpers.axios({\n        url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+btoa(result[1]),\n        method: \"GET\",\n    });\n\n    return {\n        // status: \"Request finished!\",\n        dataJawaban: resp.data\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"f6507fad-0e7a-4697-a5a4-39889ee80d7f","name":"submitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"d5cc5288-ed18-41f5-b145-aa511db687fb","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    // 1st iteration through the options\n    let entry\n    const lembarJawaban = document.getElementsByName(\"answpos\")\n    for (let [index, opsi] of lembarJawaban.entries()) {\n        if (opsi.outerHTML.match(/\"checked\"/gmi)) {\n            entry = index\n        }\n    }\n    \n    // 2nd iteration to find value of the index before submitting\n\n    const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n    let result\n    if (element.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n        result = element.match(/src\\s*=\\s*\"(.+?)\"/i)\n    } else {\n        result = element.match(/([^<]*)/i)\n        }\n    const resp = await helpers.axios({\n        url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n        method: \"POST\",\n        data: {\n            soal: btoa(result),\n            jawaban: btoa(entry.toString()),\n            username: variables[\"username\"]\n        }\n    })\n    return {\n        status: \"Request finished!\",\n        data: resp.data\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"045a158c-713d-48e6-b4e1-7b5acc3ab84a"}}}],"layout":{"canvas":{},"sidebar":{"045a158c-713d-48e6-b4e1-7b5acc3ab84a":{"top":816,"left":8,"name":"Button1","props":{"text":"Submit jawaban","style":"element.style {\n\n}"},"width":200,"height":56,"componentType":"Button"},"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: red\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":16,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":344,"height":80,"componentType":"Text"},"d15b1604-76c3-426b-a0c7-34942385823b":{"top":280,"left":0,"name":"Cards","props":{"list":"","text":"### Hello {{current_user.first_name}}!\nIt's your time to shine ","style":"element.style {\n\n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":400,"componentType":"Cards"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"}}}},{"id":4346,"version_number":6,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"}]},"created_at":"2022-04-07T15:52:47.606987+00:00","description":"yep rusak","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onSubmitData","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n    let result\n    if (element.match(/([^<]*)/iy)) {\n        result = element.match(/([^<]*)/iy)\n    } else {\n        result = element.match(/src\\s*=\\s*\"(.+?)\"/i)\n    }\n    const resp = await helpers.axios({\n        url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+btoa(result[1]),\n        method: \"GET\",\n    });\n\n    let data\n    if (resp.data[\"code\"] === 200) {\n        data = resp.data[\"data\"][\"jawab\"]\n    } else {\n        data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n    }\n\n    return {\n        // status: \"Request finished!\",\n        dataJawaban: data,\n        soal: (result[1])\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"f6507fad-0e7a-4697-a5a4-39889ee80d7f","name":"submitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"d5cc5288-ed18-41f5-b145-aa511db687fb","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    // 1st iteration through the options\n    let entry\n    const lembarJawaban = document.getElementsByName(\"answpos\")\n    for (let [index, opsi] of lembarJawaban.entries()) {\n        if (opsi.outerHTML.match(/\"checked\"/gmi)) {\n            entry = index\n        }\n    }\n    \n    // 2nd iteration to find value of the index before submitting\n\n\n    const resp = await helpers.axios({\n        url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n        method: \"POST\",\n        data: {\n            soal: btoa(variables[\"soal\"]),\n            jawaban: (entry.toString()),\n            username: variables[\"username\"]\n        }\n    })\n    return {\n        status: \"Request finished!\",\n        // data: resp.data\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"045a158c-713d-48e6-b4e1-7b5acc3ab84a"}}}],"layout":{"canvas":{},"sidebar":{"045a158c-713d-48e6-b4e1-7b5acc3ab84a":{"top":816,"left":8,"name":"Button1","props":{"text":"Submit jawabanmu","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: red\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":16,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":344,"height":80,"componentType":"Text"},"bc6b3569-6601-49e8-91e4-d218da0e4b9b":{"top":328,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":1},"width":400,"height":400,"componentType":"Table"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"}}}},{"id":4345,"version_number":5,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"}]},"created_at":"2022-04-07T14:58:39.729595+00:00","description":"rusakkkkkk","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onSubmitData","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n    let result\n    if (element.match(/([^<]*)/iy)) {\n        result = element.match(/([^<]*)/iy)\n    } else {\n        result = element.match(/src\\s*=\\s*\"(.+?)\"/i)\n    }\n    const resp = await helpers.axios({\n        url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+btoa(result[1]),\n        method: \"GET\",\n    });\n\n    let data\n    if (resp.data[\"code\"] === 200) {\n        data = resp.data[\"data\"][\"jawab\"]\n    } else {\n        data = resp.data[{\"belum ada jawaban\": \"message\"}]\n    }\n\n    return {\n        // status: \"Request finished!\",\n        dataJawaban: data,\n        soal: (result[1])\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"f6507fad-0e7a-4697-a5a4-39889ee80d7f","name":"submitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"d5cc5288-ed18-41f5-b145-aa511db687fb","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    // 1st iteration through the options\n    let entry\n    const lembarJawaban = document.getElementsByName(\"answpos\")\n    for (let [index, opsi] of lembarJawaban.entries()) {\n        if (opsi.outerHTML.match(/\"checked\"/gmi)) {\n            entry = index\n        }\n    }\n    \n    // 2nd iteration to find value of the index before submitting\n\n\n    const resp = await helpers.axios({\n        url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n        method: \"POST\",\n        data: {\n            soal: btoa(variables[\"soal\"]),\n            jawaban: (entry.toString()),\n            username: variables[\"username\"]\n        }\n    })\n    return {\n        status: \"Request finished!\",\n        // data: resp.data\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"045a158c-713d-48e6-b4e1-7b5acc3ab84a"}}}],"layout":{"canvas":{},"sidebar":{"045a158c-713d-48e6-b4e1-7b5acc3ab84a":{"top":816,"left":8,"name":"Button1","props":{"text":"Submit jawabanmu","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: red\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":16,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":344,"height":80,"componentType":"Text"},"bc6b3569-6601-49e8-91e4-d218da0e4b9b":{"top":328,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":1},"width":400,"height":400,"componentType":"Table"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"}}}},{"id":4340,"version_number":1,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true},"created_at":"2022-04-07T10:15:15.649209+00:00","description":"added menu and cards\n","workflows":[],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: red\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":16,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    return true;\n}"},"width":344,"height":80,"componentType":"Text"},"d15b1604-76c3-426b-a0c7-34942385823b":{"top":344,"left":0,"name":"Cards","props":{"list":"","text":"### Hello {{current_user.first_name}}!\nIt's your time to shine","style":"element.style {\n\n}","columns":1},"width":400,"height":400,"componentType":"Cards"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[],"isVariable":false},"placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"}}}},{"id":4342,"version_number":2,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true},"created_at":"2022-04-07T11:00:49.337965+00:00","description":"add minimum logic","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"Untitled Workflow","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: red\n}","condition":"async (variables, components) => {\n    if variables[\"isStarted\"] != true:\n        return true;\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":16,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if variables[\"isStarted\"] != true:\n        return true;\n}"},"width":344,"height":80,"componentType":"Text"},"d15b1604-76c3-426b-a0c7-34942385823b":{"top":272,"left":0,"name":"Cards","props":{"list":"","text":"### Hello {{current_user.first_name}}!\nIt's your time to shine","style":"element.style {\n\n}","columns":1},"width":400,"height":400,"componentType":"Cards"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if variables[\"isStarted\"] != true:\n        return true;\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if variables[\"isStarted\"] != true:\n        return true;\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"}}}},{"id":4388,"version_number":31,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T09:00:29.557669+00:00","description":"pre-release 1.3 fix","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = \"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(result)\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = \"http://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4395,"version_number":38,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T15:54:02.017113+00:00","description":"fix http/s","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":232,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4396,"version_number":39,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*","https://9d64-139-180-156-194.ap.ngrok.io/*","http://9d64-139-180-156-194.ap.ngrok.io/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-10T14:17:20.485843+00:00","description":"add testSites","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":232,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4397,"version_number":40,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*","https://9d64-139-180-156-194.ap.ngrok.io/*","http://9d64-139-180-156-194.ap.ngrok.io/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-10T14:26:24.166452+00:00","description":"fix gawat\n","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        // } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n        //     result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element\n            // result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":280,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4398,"version_number":41,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*","https://9d64-139-180-156-194.ap.ngrok.io/*","http://9d64-139-180-156-194.ap.ngrok.io/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-11T03:06:35.554935+00:00","description":"fix 2\n","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        // const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        // } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n        //     result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = document.getElementsByClassName(\"tcecontentbox\")[0].innerText\n            // result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":280,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4399,"version_number":42,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*","http://*-139-180-156-194.ap.ngrok.io/*","http://*-139-180-156-194.ap.ngrok.io/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-11T03:18:13.27217+00:00","description":"add test site\n","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        // const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        // } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n        //     result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = document.getElementsByClassName(\"tcecontentbox\")[0].innerText\n            // result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":280,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4400,"version_number":43,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*","http://*-139-180-156-194.ap.ngrok.io/*","http://*-139-180-156-194.ap.ngrok.io/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-11T09:08:12.477917+00:00","description":"fix multiple soal bug","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        // let result\n        // if (document.getElementById(\"answertext\")) {\n        //     result = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        // // } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n        // //     result = element.match(/([^<]*)/iy)[1]\n        // } else {\n        //     result = element.split('<div class=\"rowl\">')[0]\n        //     // result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        // }\n        let result = element.split('<div class=\"rowl\">')[0]\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":280,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4343,"version_number":3,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"}]},"created_at":"2022-04-07T11:31:03.023679+00:00","description":"add onloadGetJawaban logic (regex)","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onSubmit","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n    let result\n    if (element.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n        result = element.match(/src\\s*=\\s*\"(.+?)\"/i)\n    } else {\n        result = element.match(/([^<]*)/i)\n    }\n    const resp = await helpers.axios({\n        url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+result[1],\n        method: \"GET\",\n    });\n\n    return {\n        // status: \"Request finished!\",\n        dataJawaban: resp.data\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: red\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":16,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":344,"height":80,"componentType":"Text"},"d15b1604-76c3-426b-a0c7-34942385823b":{"top":280,"left":0,"name":"Cards","props":{"list":"","text":"### Hello {{current_user.first_name}}!\nIt's your time to shine","style":"element.style {\n\n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":400,"componentType":"Cards"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"}}}},{"id":4401,"version_number":44,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*","http://*-139-180-156-194.ap.ngrok.io/*","http://*-139-180-156-194.ap.ngrok.io/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"},{"key":"BASIC_AUTH","value":"cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE="}]},"created_at":"2022-04-11T09:47:52.111253+00:00","description":"basic auth","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        // let result\n        // if (document.getElementById(\"answertext\")) {\n        //     result = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        // // } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n        // //     result = element.match(/([^<]*)/iy)[1]\n        // } else {\n        //     result = element.split('<div class=\"rowl\">')[0]\n        //     // result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        // }\n        let result = element.split('<div class=\"rowl\">')[0]\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic \"+ variables[\"BASIC_AUTH\"],\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic \" + variables[\"BASIC_AUTH\"],\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic \" + variables[\"BASIC_AUTH\"],\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":280,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4480,"version_number":45,"published_at":null,"properties":{"changed":false,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*","http://usp.sman5tangerangkota.sch.id/*","http://*-139-180-156-194.ap.ngrok.io/*","http://*-139-180-156-194.ap.ngrok.io/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"},{"key":"BASIC_AUTH","value":"cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE="}]},"created_at":"2022-04-22T04:14:13.363491+00:00","description":null,"workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        // let result\n        // if (document.getElementById(\"answertext\")) {\n        //     result = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        // // } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n        // //     result = element.match(/([^<]*)/iy)[1]\n        // } else {\n        //     result = element.split('<div class=\"rowl\">')[0]\n        //     // result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        // }\n        let result = element.split('<div class=\"rowl\">')[0]\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic \"+ variables[\"BASIC_AUTH\"],\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic \" + variables[\"BASIC_AUTH\"],\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic \" + variables[\"BASIC_AUTH\"],\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":280,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4350,"version_number":7,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T10:36:37.580069+00:00","description":"changed logic\n","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(btoa(result)),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":192,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"9899a966-a6e0-4259-a1f1-630de66321fc":{"top":264,"left":0,"name":"Cards","props":{"list":"","text":"### Hello {{current_user.first_name}}!\nIt's your time to shine","style":"element.style {\n\n}","columns":1},"width":400,"height":400,"componentType":"Cards"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":776,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n\n}"},"width":200,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":816,"left":0,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4362,"version_number":10,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:14:33.058549+00:00","description":"","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(btoa(result)),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}},{"name":"","type":"javascript","stepHash":"979dab9e-2885-4b0a-a7dc-71484c9e7da0","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\t\n\tif (variables[\"dataJawaban\"]){\n\t\tforEach(let x of variables[\"dataJawaban\"])\n\t}\n\n\treturn {\n\t\thello: \"world\"\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"5cac1310-f5ea-40b1-ae71-429b99a89fda":{"top":0,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":10,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":400,"componentType":"Table"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":808,"left":112,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":400,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":440,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4360,"version_number":8,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:03:03.96427+00:00","description":"","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(btoa(result)),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}},{"name":"","type":"javascript","stepHash":"979dab9e-2885-4b0a-a7dc-71484c9e7da0","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\t\n\tif (variables[\"dataJawaban\"]){\n\t\tforEach(let x of variables[\"dataJawaban\"])\n\t}\n\n\treturn {\n\t\thello: \"world\"\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"5cac1310-f5ea-40b1-ae71-429b99a89fda":{"top":256,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":10,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":400,"componentType":"Table"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":192,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":776,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":816,"left":0,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4361,"version_number":9,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:12:24.539003+00:00","description":"fix ui","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(btoa(result)),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}},{"name":"","type":"javascript","stepHash":"979dab9e-2885-4b0a-a7dc-71484c9e7da0","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\t\n\tif (variables[\"dataJawaban\"]){\n\t\tforEach(let x of variables[\"dataJawaban\"])\n\t}\n\n\treturn {\n\t\thello: \"world\"\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"5cac1310-f5ea-40b1-ae71-429b99a89fda":{"top":0,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":10,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":400,"componentType":"Table"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":192,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":400,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":440,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4363,"version_number":11,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:16:12.209122+00:00","description":"","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(btoa(result)),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":192,"left":96,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"5cac1310-f5ea-40b1-ae71-429b99a89fda":{"top":0,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":10,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":400,"componentType":"Table"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":808,"left":112,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":400,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":440,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4364,"version_number":12,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:17:00.175763+00:00","description":"fix ui","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(btoa(result)),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"5cac1310-f5ea-40b1-ae71-429b99a89fda":{"top":288,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":10,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":488,"componentType":"Table"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":200,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":784,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":824,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4365,"version_number":13,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:20:33.586764+00:00","description":"disable b64 encode","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(result),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"5cac1310-f5ea-40b1-ae71-429b99a89fda":{"top":288,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":10,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":488,"componentType":"Table"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":200,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":784,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":824,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4366,"version_number":14,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:26:48.024136+00:00","description":"","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(result),\n            method: \"GET\",\n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"5cac1310-f5ea-40b1-ae71-429b99a89fda":{"top":288,"left":0,"name":"Table","props":{"style":"element.style {\n\n}","table":"dataJawaban","pageSize":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":488,"componentType":"Table"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":200,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":784,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":824,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"}}}},{"id":4367,"version_number":15,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-08T17:31:13.17257+00:00","description":"new schema and cards","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1]\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/\"+encodeURIComponent(result),\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawaban = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawaban = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawaban = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawaban = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawaban = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawaban = null\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":200,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":784,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":824,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":264,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) ","style":"element.style {\n    \n}","columns":1},"width":400,"height":504,"componentType":"Cards"}}}},{"id":4373,"version_number":16,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://localhost:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T05:36:55.803404+00:00","description":"beta testing ready","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":200,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":784,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":824,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":264,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1},"width":400,"height":504,"componentType":"Cards"}}}},{"id":4375,"version_number":18,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T07:12:35.260654+00:00","description":"fix ui change","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":200,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":152,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":24,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":64,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":184,"left":8,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":624,"componentType":"Cards"}}}},{"id":4374,"version_number":17,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T05:59:58.166916+00:00","description":"change api","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":0,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":200,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":784,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":80,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":824,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":264,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":504,"componentType":"Cards"}}}},{"id":4376,"version_number":19,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T07:15:35.436448+00:00","description":"fix","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":-8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":152,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":144,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":120,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":200,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4378,"version_number":21,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T07:40:17.045428+00:00","description":"fixed authentication on submitJawaban","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4377,"version_number":20,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T07:36:51.537512+00:00","description":"added submitted flag","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4379,"version_number":22,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T07:42:37.398599+00:00","description":"update gegara patir","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4380,"version_number":23,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T07:46:23.724326+00:00","description":"fixed status","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1]) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4381,"version_number":24,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T07:51:30.733452+00:00","description":"refactoring logic submitJawaban","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": result\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban != null) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4382,"version_number":25,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T08:07:46.125743+00:00","description":"fix 25\n","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": encodeURIComponent(result)\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n![{{cardElement.jawaban}}]({{cardElement.jawaban}}) \n","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4383,"version_number":26,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T08:25:16.561958+00:00","description":"fix cards","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"] ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"soal\": encodeURIComponent(result)\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4384,"version_number":27,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T08:27:17.256916+00:00","description":"fix api encoding\n","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"]+\"/\"+encodeURIComponent(result) ,\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"])\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban temanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4385,"version_number":28,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T08:37:50.354362+00:00","description":"pre-release 1","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = \"http://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"]+\"/\"+btoa(result),\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = \"http://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4386,"version_number":29,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T08:49:47.513918+00:00","description":"pre-release 1.1","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = \"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"]+\"/\"+btoa(result),\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = \"http://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":8,"left":200,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4387,"version_number":30,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T08:51:39.416228+00:00","description":"pre-release 1.2","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = \"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n                \"X-SOAL\": btoa(result)\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = \"http://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4390,"version_number":33,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T09:24:50.078115+00:00","description":"prefix 1.4","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = \"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(result)\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = \"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4389,"version_number":32,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T09:02:47.217989+00:00","description":"prefix 1.5","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = \"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(result)\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: result\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = \"http://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4391,"version_number":34,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T09:38:12.323814+00:00","description":"fix encoding again sighh","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = \"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = \"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4392,"version_number":35,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T10:07:36.770845+00:00","description":"fix replace empty space with %20","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":232,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":272,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4393,"version_number":36,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T10:12:08.062108+00:00","description":"fix ui","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":232,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}},{"id":4394,"version_number":37,"published_at":null,"properties":{"changed":true,"hasSidebar":true,"excludeList":[],"includeList":["https://usp.sman5tangerangkota.sch.id/*"],"sidebarWidth":400,"showSidebarTag":true,"defaultVariables":[{"key":"host","value":"http://play.jamucommunity.ml:8000/api/v1"},{"key":"isStarted","value":"false"}]},"created_at":"2022-04-09T15:16:59.58476+00:00","description":"production ready v1","workflows":[{"hash":"73fa3696-a98c-4bb8-809d-265dae8a90eb","name":"onGaskan","steps":[{"name":"","type":"javascript","stepHash":"2d6b5202-c820-434a-886d-3c8278611030","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    // Access Global Variables through the variables argument.\n\n\t// Either return a serializable Object to add to Global Variables, \n    //     or return nothing at all\n\treturn {\n\t\tusername: components[\"Input\"][\"value\"],\n\t\tmapel: components[\"Dropdown\"][\"selected\"],\n\t\tisStarted: true\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"1cfc8783-aa08-4080-8e32-80fe821be00d"}}},{"hash":"6788c8cb-9c1c-48ed-a892-8919b8799c14","name":"onloadGetJawaban","steps":[{"name":"GET Request","type":"javascript","stepHash":"8fd3795d-745b-48ca-8f11-2c889c93bc5f","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n    if (variables[\"isStarted\"] == true) {\n        const element = document.getElementsByClassName(\"tcecontentbox\")[0].innerHTML\n        let result\n        if (document.getElementById(\"answertext\")) {\n            result = element.match(/<label(.*?)>(.*?)<\\/label>/i)[2]\n        } else if (element.match(/([^<]*)/iy)[1] != \"\") {\n            result = element.match(/([^<]*)/iy)[1]\n        } else {\n            result = (\"https://\"+(element.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n        }\n\n        const resp = await helpers.axios({\n            url: variables[\"host\"]+ \"/\" + variables[\"mapel\"],\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                \"X-SOAL\": btoa(encodeURIComponent(result))\n            }\n            \n        });\n\n        // let data\n        // if (resp.data[\"code\"] == 200) {\n        //     data = resp.data[\"data\"][\"jawab\"]\n        // } else {\n        //     data = [{\"belum ada jawaban\": resp.data[\"message\"]}]\n        // }\n\n        return {\n            getStatus: \"Request finished!\",\n            submitStatus: null,\n            dataJawaban: resp.data[\"data\"][\"jawab\"],\n            soal: encodeURIComponent(result)\n        }\n    } else {\n        return\n    }\n}"}}],"trigger":{"type":"WebpageLoaded","properties":{}}},{"hash":"0e9b64a9-8103-4257-a2ea-05cf6c32643e","name":"onStop","steps":[{"name":"","type":"javascript","stepHash":"07f60a9c-c964-470c-98ae-6722cd1d9cd9","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n\n\treturn {\n\t\tisStarted: false\n\t}\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"6c664fdf-f52e-4728-9593-32d564bbc3a4"}}},{"hash":"7d3464a9-0002-4f4c-932a-8d5d99e103df","name":"onSubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"45f4e13c-e867-4df6-84f5-81bdbb7a919a","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n\n    if (variables[\"isStarted\"] == true) {\n        function getJawaban() {\n            // let jawabanPos\n            let jawaban \n            // main logic\n            if (document.getElementById(\"answertext\")) {\n                var elementTextArea = document.getElementById(\"answertext\");\n                elementTextArea.addEventListener(\"change\", jawaban = function(event) {\n                    return elementTextArea.value;\n                });\n            } else if (document.getElementsByClassName(\"tr\")) {\n                try {\n                    document.getElementById(\"answpos_1\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 1\n                            return document.getElementsByTagName(\"label\")[1].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_2\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 2\n                            return document.getElementsByTagName(\"label\")[3].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_3\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 3\n                            return document.getElementsByTagName(\"label\")[5].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_4\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 4\n                            return document.getElementsByTagName(\"label\")[7].innerHTML\n                        }\n                    });\n                    document.getElementById(\"answpos_5\").addEventListener('click', jawaban = function (event) {\n                        if (event.target && event.target.matches(\"input[type='radio']\")) {\n                            // jawabanPos = 5\n                            return document.getElementsByTagName(\"label\")[9].innerHTML.toString\n                        }\n                    });\n                } catch(err) {}\n            };\n            return jawaban   \n        }\n        await helpers.axios({\n            url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n            method: \"POST\",\n            data: {\n                \"soal\": variables[\"soal\"],\n                \"jawaban\": setTimeout(getJawaban(), 2000),\n                \"username\": variables[\"username\"]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\"\n            }\n        });\n        return {\n            postStatus: \"Request finished!\",\n            jawaban: jawaban\n            // data: resp.data\n            }\n    } else return\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{}}},{"hash":"d7663904-8ee1-4373-91df-07886ae5671c","name":"SubmitJawaban","steps":[{"name":"POST Request","type":"javascript","stepHash":"c257e68e-b541-4cb3-846b-13fc45825395","properties":{"code":"/** @param {Helpers} helpers */\nasync (variables, components, helpers, event) => {\n    /*\n        checkout Axios Request config docs for more!\n        https://github.com/axios/axios#request-config\n    */\n\n    if (variables[\"isStarted\"] == true) {\n        let jawaban\n        let jawabanTag\n        if (document.getElementById(\"answertext\")) {\n            jawaban = document.querySelector('textarea').value;\n        } else if (document.getElementsByTagName(\"tr\")) {\n            var jawabanPos = document.querySelector('input[name=\"answpos\"]:checked').value;\n            switch (jawabanPos) {\n                case (\"1\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[1].innerHTML;\n                    break;\n                case (\"2\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[3].innerHTML;\n                    break;\n                case (\"3\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[5].innerHTML\n                    break;\n                case (\"4\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[7].innerHTML\n                    break;\n                case (\"5\"):\n                    jawabanTag = document.getElementsByTagName(\"label\")[9].innerHTML\n                    break;\n                default:\n                    jawabanTag = null\n            }\n            if (jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)) {\n                jawaban = (\"https://\"+(jawabanTag.match(/src\\s*=\\s*\"(.+?)\"/i)[1].replaceAll(\"..\", variables[\"current_url\"][\"host\"]))).replaceAll(\" \", \"%20\")\n            } else {\n                jawaban = jawabanTag\n            }\n        }\n\n        if (jawaban) {\n            const resp = await helpers.axios({\n                url: variables[\"host\"]+\"/\"+variables[\"mapel\"]+\"/jawab\",\n                method: \"POST\",\n                data: {\n                    \"soal\": variables[\"soal\"],\n                    \"jawaban\": jawaban.replaceAll(\"<br>\", \"\"),\n                    \"username\": variables[\"username\"]\n                },\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Basic cGFyYWx5bXBpYzpwYXJhbHltcGljamF5YSE=\",\n                }\n\n            });\n\n            return {\n                submitStatus: \"Request finished!\",\n                submitData: resp.data\n            }\n        } else {\n            return {\n                submitStatus: \"Request skipped!\",\n                submitData: \"belom dijawab\"\n            }\n        }\n\n    }\n}"}}],"trigger":{"type":"ExtensionElementClicked","properties":{"componentId":"f9b85422-4bae-435e-9453-3f0c071f49fc"}}}],"layout":{"canvas":{},"sidebar":{"1cfc8783-aa08-4080-8e32-80fe821be00d":{"top":200,"left":8,"name":"Button","props":{"text":"Gaskann!","style":"element.style {\n    color: white;\n    background-color: green;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"61a15e62-5956-4dc0-9057-de3758b4a31f":{"top":0,"left":0,"name":"Text","props":{"text":"### Hello ngab!\nJangan lupa set Username sama Mapel yh","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}"},"width":400,"height":80,"componentType":"Text"},"6c664fdf-f52e-4728-9593-32d564bbc3a4":{"top":0,"left":96,"name":"Button1","props":{"text":"Stop!","style":"element.style {\n    color: white;\n    background-color: red;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":200,"height":56,"componentType":"Button"},"b13ffcab-657a-4c56-8a89-6aa9d89c14ab":{"top":192,"left":0,"name":"Text2","props":{"text":"#### Jawaban","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"c0bdd0b8-c6dd-4bd9-b97e-11376cec92c2":{"top":152,"left":128,"name":"Text3","props":{"text":"submitted!","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"submitStatus\"]){\n        return true;\n    }\n}"},"width":144,"height":40,"componentType":"Text"},"da5a0564-7f13-4e2f-8382-72e13b1e3ce5":{"top":136,"left":0,"name":"Dropdown","props":{"label":"","style":"element.style {\n \n }","dropdown":{"values":[{"key":"BIOLOGI","value":"BIOLOGI"},{"key":"BING","value":"BING"},{"key":"KIMIA","value":"KIMIA"},{"key":"PJOK","value":"PJOK"},{"key":"MTKP","value":"MTKP"},{"key":"SBK","value":"SBK"}],"isVariable":false},"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Mapel","defaultSelected":""},"width":400,"height":56,"componentType":"Dropdown"},"f0232ad9-d345-446d-8006-7b336b0edf2e":{"top":80,"left":0,"name":"Text1","props":{"text":"#### Share jawabanmu","style":"element.style {\n    text-align: center;\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":40,"componentType":"Text"},"f8cad6d6-8d32-4a67-89f2-9b73139188d5":{"top":88,"left":0,"name":"Input","props":{"label":"","style":"element.style {\n \n }","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] != true){\n        return true;\n    }\n}","placeholder":"Username"},"width":400,"height":56,"componentType":"Input"},"f9b85422-4bae-435e-9453-3f0c071f49fc":{"top":112,"left":128,"name":"Button2","props":{"text":"Bagikan","style":"element.style {\n\n}","condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":144,"height":56,"componentType":"Button"},"fd62c0ec-473c-4059-a5fc-03558a804fd5":{"top":232,"left":0,"name":"Cards","props":{"list":"dataJawaban","text":"#### {{cardElement.username}}\n{{cardElement.jawaban}}","style":"element.style {\n    \n}","columns":1,"condition":"async (variables, components) => {\n    if (variables[\"isStarted\"] == true){\n        return true;\n    }\n}"},"width":400,"height":648,"componentType":"Cards"}}}}],"draft_version_id":4480,"published_version_id":4401,"secrets":[]}